"use strict";(self.webpackChunkangular_tailwind=self.webpackChunkangular_tailwind||[]).push([[53],{1321:(A,b,a)=>{a.d(b,{b:()=>c});var _=a(6146),g=a(2895);let c=(()=>{class l{constructor(f){this.router=f}logout(){sessionStorage.clear(),this.router.navigate(["/auth/sigh-in"])}static#e=this.\u0275fac=function(k){return new(k||l)(_.LFG(g.F0))};static#t=this.\u0275prov=_.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},3053:(A,b,a)=>{a.r(b),a.d(b,{LayoutModule:()=>Oe});var _=a(9862),g=a(7678),c=a(2895),l=a(6814),e=a(6146),f=a(7394);let k=(()=>{class n{static#e=this.pages=[{group:"Menu",separator:!0,icon:"assets/icons/chart-pie.svg",items:[{icon:"assets/icons/chart-pie.svg",label:"Dashboard",route:"/dashboard/main"},{icon:"assets/icons/chart.svg",label:"Analytics",route:"/dashboard/analytics"},{icon:"assets/icons/table.svg",label:"History",route:"/dashboard/history"},{icon:"assets/icons/cctv.svg",label:"Cameras",route:"/dashboard/cameras"},{icon:"assets/icons/heroicons/outline/cog.svg",label:"Settings",route:"/dashboard/setting"}]}]}return n})();var p=a(7992);let v=(()=>{class n{ngOnInit(){this.languageService.currentLanguage$.subscribe(t=>{this.currentLanguage=t})}constructor(t,i){this.router=t,this.languageService=i,this._showSidebar=(0,e.tdS)(!0),this._showMobileMenu=(0,e.tdS)(!1),this._pagesMenu=(0,e.tdS)([]),this._subscription=new f.w0,this.currentLanguage="th",this.translations=this.languageService.translations,this._pagesMenu.set(k.pages)}get showSideBar(){return this._showSidebar()}get showMobileMenu(){return this._showMobileMenu()}get pagesMenu(){return this._pagesMenu()}set showSideBar(t){this._showSidebar.set(t)}set showMobileMenu(t){this._showMobileMenu.set(t)}toggleSidebar(t){this._showSidebar.set(void 0===t&&!this._showSidebar())}toggleMenu(t){this.showSideBar=!0,t.expanded=!t.expanded}toggleSubMenu(t){t.expanded=!t.expanded}expand(t){t.forEach(i=>{i.expanded=this.isActive(i.route),i.children&&this.expand(i.children)})}isActive(t){return this.router.isActive(this.router.createUrlTree([t]),{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})}ngOnDestroy(){this._subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(e.LFG(c.F0),e.LFG(p.T))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O=(()=>{class n{static#e=this.pages=[{group:"",separator:!1,items:[{icon:"assets/icons/heroicons/outline/cog.svg",label:"Settings",route:"/dashboard/setting"}]}]}return n})(),M=(()=>{class n{constructor(t){this.router=t,this._showSidebar=(0,e.tdS)(!0),this._showMobileMenu=(0,e.tdS)(!1),this._pagesMenu=(0,e.tdS)([]),this._subscription=new f.w0,this._pagesMenu.set(O.pages);let i=this.router.events.subscribe(s=>{s instanceof c.m2&&this._pagesMenu().forEach(o=>{let u=!1;o.items.forEach(d=>{const m=this.isActive(d.route);d.expanded=m,d.active=m,m&&(u=!0),d.children&&this.expand(d.children)}),o.active=u})});this._subscription.add(i)}get showSideBar(){return this._showSidebar()}get showMobileMenu(){return this._showMobileMenu()}get pagesMenu(){return this._pagesMenu()}set showSideBar(t){this._showSidebar.set(t)}set showMobileMenu(t){this._showMobileMenu.set(t)}toggleSidebar(){this._showSidebar.set(!this._showSidebar())}toggleMenu(t){this.showSideBar=!0,t.expanded=!t.expanded}toggleSubMenu(t){t.expanded=!t.expanded}expand(t){t.forEach(i=>{i.expanded=this.isActive(i.route),i.children&&this.expand(i.children)})}isActive(t){return this.router.isActive(this.router.createUrlTree([t]),{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})}ngOnDestroy(){this._subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(e.LFG(c.F0))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var L=a(1922),x=a(1321);function U(n,r){if(1&n&&(e.TgZ(0,"div",13)(1,"a",14),e._uU(2),e.qZA()()),2&n){const t=r.item,i=e.oxw(3);e.s9C("routerLink",t.route),e.xp6(2),e.hij(" ",i.translations[i.currentLanguage][t.label]," ")}}const J=n=>({item:n});function F(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"div",9),e.NdJ("click",function(){const o=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.toggleMenu(o))}),e.TgZ(2,"div",10),e._UZ(3,"svg-icon",3),e.qZA(),e.GkF(4,11),e.YNc(5,U,3,2,"ng-template",null,12,e.W1O),e.qZA()()}if(2&n){const t=r.$implicit,i=e.MAs(6),s=e.oxw(2);e.xp6(2),e.Q6J("ngClass",t.active&&!s.menuService.showSideBar?"text-primary-500":""),e.xp6(1),e.s9C("src",t.icon),e.Q6J("svgClass","h-5 w-5"),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(5,J,t))}}const j=n=>({hidden:n});function N(n,r){if(1&n&&(e.TgZ(0,"div",5)(1,"div")(2,"small",6),e._uU(3),e.qZA()(),e.TgZ(4,"ul",7),e.YNc(5,F,7,7,"li",8),e.qZA()()),2&n){const t=r.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(3,j,!i.menuService.showSideBar)),e.xp6(1),e.hij(" ",i.translations[i.currentLanguage][t.group]," "),e.xp6(2),e.Q6J("ngForOf",t.items)}}let q=(()=>{class n{constructor(t,i,s,o,u,d){this.menuService=t,this.languageService=i,this.menu2Service=s,this.router=o,this.themeService=u,this.signoutService=d,this.currentLanguage="th",this.translations=this.languageService.translations}toggleMenu(t){this.menuService.toggleMenu(t)}ngOnInit(){this.languageService.currentLanguage$.subscribe(t=>{this.currentLanguage=t})}toggleLanguage(){this.languageService.toggleLanguage()}logout(){this.signoutService.logout()}toggleTheme(){this.themeService.theme=this.themeService.isDark?"light":"dark"}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(v),e.Y36(p.T),e.Y36(M),e.Y36(c.F0),e.Y36(L.f),e.Y36(x.b))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-sidebar-menu"]],standalone:!0,features:[e.jDz],decls:15,vars:10,consts:[[1,"flex","flex-col","space-y-20"],["class","pt-4 min-h-[30rem]",4,"ngFor","ngForOf"],[1,"group","flex","h-9","cursor-pointer","items-center","justify-start","rounded","p-2","hover:bg-gray-100","dark:hover:bg-night-900",3,"click"],[3,"src","svgClass"],[1,"ml-3","truncate","text-xs","font-semibold","tracking-wide","text-gray-600","focus:outline-none","dark:text-night-100"],[1,"pt-4","min-h-[30rem]"],[1,"text-xs","font-semibold","text-gray-400","dark:text-night-200",3,"ngClass"],[1,"flex","flex-col","space-y-1","mt-2"],[4,"ngFor","ngForOf"],[1,"group","relative","text-gray-400","dark:text-night-400",3,"click"],[1,"pointer-events-none","absolute","m-2",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["parentMenu",""],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","text-gray-600","hover:bg-gray-100","dark:text-night-100","dark:hover:bg-night-900",3,"routerLink"],["routerLinkActive","text-primary-500",1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0),e.YNc(1,N,6,5,"div",1),e.TgZ(2,"div")(3,"div",2),e.NdJ("click",function(){return s.toggleTheme()}),e._UZ(4,"svg-icon",3),e.TgZ(5,"a",4),e._uU(6),e.qZA()(),e.TgZ(7,"div",2),e.NdJ("click",function(){return s.toggleLanguage()}),e._UZ(8,"svg-icon",3),e.TgZ(9,"a",4),e._uU(10),e.qZA()(),e.TgZ(11,"div",2),e.NdJ("click",function(){return s.logout()}),e._UZ(12,"svg-icon",3),e.TgZ(13,"a",4),e._uU(14),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("ngForOf",s.menuService.pagesMenu),e.xp6(3),e.Q6J("src",s.themeService.isDark?"assets/icons/heroicons/outline/sun.svg":"assets/icons/heroicons/outline/moon.svg")("svgClass","h-5 w-5 text-gray-400 dark:text-night-400"),e.xp6(2),e.hij(" ",s.translations[s.currentLanguage][s.themeService.isDark?"Light Theme":"Dark Theme"]," "),e.xp6(2),e.Q6J("src","th"===s.currentLanguage?"assets/icons/thailand-flag-icon.svg":"assets/icons/united-kingdom-flag-icon.svg")("svgClass","h-5 w-5 text-gray-400 dark:text-night-400"),e.xp6(2),e.hij(" ",s.translations[s.currentLanguage].language_toggle," "),e.xp6(2),e.Q6J("src","assets/icons/heroicons/outline/logout.svg")("svgClass","h-5 w-5 text-gray-400 dark:text-night-400"),e.xp6(2),e.hij(" ",s.translations[s.currentLanguage]["Sign Out"]," "))},dependencies:[l.ax,l.mk,g._J,g.bk,l.tP,c.rH,c.Od],changeDetection:0})}return n})();var I=a(4829),Y=a(5592),E=a(1631),Q=a(4266),h=a(4674),D=a(7400);const B=["addListener","removeListener"],z=["addEventListener","removeEventListener"],K=["on","off"];function y(n,r,t,i){if((0,h.m)(t)&&(i=t,t=void 0),i)return y(n,r,t).pipe((0,D.Z)(i));const[s,o]=function G(n){return(0,h.m)(n.addEventListener)&&(0,h.m)(n.removeEventListener)}(n)?z.map(u=>d=>n[u](r,d,t)):function R(n){return(0,h.m)(n.addListener)&&(0,h.m)(n.removeListener)}(n)?B.map(T(n,r)):function P(n){return(0,h.m)(n.on)&&(0,h.m)(n.off)}(n)?K.map(T(n,r)):[];if(!s&&(0,Q.z)(n))return(0,E.z)(u=>y(u,r,t))((0,I.Xf)(n));if(!s)throw new TypeError("Invalid event target");return new Y.y(u=>{const d=(...m)=>u.next(1<m.length?m:m[0]);return s(d),()=>o(d)})}function T(n,r){return t=>i=>n[t](r,i)}var $=a(2181);let S=(()=>{class n{constructor(t,i){this.element=t,this.document=i,this.clickOutside=new e.vpe}ngAfterViewInit(){this.documentClickSubscription=y(this.document,"click").pipe((0,$.h)(t=>!this.isInside(t.target))).subscribe(()=>{this.clickOutside.emit()})}ngOnDestroy(){this.documentClickSubscription?.unsubscribe()}isInside(t){return t===this.element.nativeElement||this.element.nativeElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(e.SBq),e.Y36(l.K0))};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","clickOutside",""]],outputs:{clickOutside:"clickOutside"},standalone:!0})}return n})();function H(n,r){1&n&&(e.TgZ(0,"div",8)(1,"a",9),e._UZ(2,"img",10),e.qZA(),e.TgZ(3,"a",11),e._uU(4," Smart Traffic "),e.qZA()())}const W=n=>({"rotate-180":n});let X=(()=>{class n{ngOnInit(){this.languageService.currentLanguage$.subscribe(t=>{this.currentLanguage=t})}constructor(t,i,s){this.menuService=t,this.menu2Service=i,this.languageService=s,this.currentLanguage="th",this.translations=this.languageService.translations}toggleLanguage(){this.languageService.toggleLanguage()}toggleSidebar(){this.menuService.toggleSidebar()}toggleSidebarClick(){this.menuService.toggleSidebar(!1)}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(v),e.Y36(M),e.Y36(p.T))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-sidebar"]],standalone:!0,features:[e.jDz],decls:10,vars:5,consts:[["clickOutside","",1,"scrollbar-thumb-rounded","scrollbar-track-rounded","hidden","h-full","flex-col","justify-between","overflow-auto","bg-white","pt-3","transition-all","duration-300","scrollbar-thin","scrollbar-track-gray-50","scrollbar-thumb-gray-100","dark:bg-night-800","dark:scrollbar-thumb-night-500","dark:scrollbar-track-night-600","lg:flex",3,"ngClass","clickOutside"],[1,"px-4"],[1,"relative","h-10"],["class","flex items-center",4,"ngIf"],[1,"absolute","top-2","right-2","flex","h-5","w-5","items-center","justify-center","rounded","text-gray-400","transition-all","duration-200","focus:outline-none","hover:text-gray-500","dark:text-night-400","dark:hover:text-night-300",3,"ngClass","click"],["src","assets/icons/heroicons/solid/chevron-double-left.svg"],[1,"pt-3"],[1,"border-dashed","border-gray-200","dark:border-night-500"],[1,"flex","items-center"],[1,"flex","items-center","justify-center","rounded","p-2","focus:outline-none","focus:ring-1"],["src","\\assets\\logo.png","width","25","height","25"],[1,"ml-1","pl-2","text-sm","dark:text-night-50"]],template:function(i,s){1&i&&(e.TgZ(0,"nav",0),e.NdJ("clickOutside",function(){return s.toggleSidebarClick()}),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,H,5,0,"div",3),e.TgZ(4,"button",4),e.NdJ("click",function(){return s.toggleSidebar()}),e.TgZ(5,"svg-icon",5),e._uU(6," [svgClass]=\"'h-5 w-5'\"> "),e.qZA()()(),e.TgZ(7,"div",6),e._UZ(8,"hr",7),e.qZA(),e._UZ(9,"app-sidebar-menu"),e.qZA()()),2&i&&(e.Q6J("ngClass",s.menuService.showSideBar?"w-52 xl:w-64":"w-[70px]"),e.xp6(3),e.Q6J("ngIf",s.menuService.showSideBar),e.xp6(1),e.Q6J("ngClass",e.VKq(3,W,!s.menuService.showSideBar)))},dependencies:[l.mk,l.O5,g._J,g.bk,q,S]})}return n})();const V=()=>({exact:!0});function ee(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.closeMobileMenu())}),e._uU(1),e.qZA()}if(2&n){const t=r.sub;e.Q6J("routerLink",t.route)("routerLinkActiveOptions",e.DdM(3,V)),e.xp6(1),e.hij(" ",t.label," ")}}const te=n=>({"rotate-90":n});function ne(n,r){if(1&n&&(e.TgZ(0,"a",9),e._uU(1),e.qZA(),e.TgZ(2,"button",10),e._UZ(3,"svg-icon",11),e.qZA()),2&n){const t=r.sub;e.xp6(1),e.hij(" ",t.label," "),e.xp6(1),e.Q6J("ngClass",e.VKq(3,te,t.expanded)),e.xp6(1),e.Q6J("svgClass","h-5 w-5")}}const ie=n=>({sub:n});function se(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"div",3),e.NdJ("click",function(){const o=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.toggleMenu(o))}),e.GkF(2,4),e.YNc(3,ee,2,4,"ng-template",null,5,e.W1O)(5,ne,4,5,"ng-template",null,6,e.W1O),e.qZA(),e._UZ(7,"app-navbar-mobile-submenu",7),e.qZA()}if(2&n){const t=r.$implicit,i=e.MAs(4),s=e.MAs(6);e.xp6(2),e.Q6J("ngTemplateOutlet",t.children?s:i)("ngTemplateOutletContext",e.VKq(3,ie,t)),e.xp6(5),e.Q6J("submenu",t)}}const re=n=>({"max-h-screen":n});let oe=(()=>{class n{constructor(t){this.menuService=t,this.submenu={}}ngOnInit(){}toggleMenu(t){this.menuService.toggleSubMenu(t)}collapse(t){t.forEach(i=>{i.expanded=!1,i.children&&this.collapse(i.children)})}closeMobileMenu(){this.menuService.showMobileMenu=!1}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(v))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-navbar-mobile-submenu"]],inputs:{submenu:"submenu"},standalone:!0,features:[e.jDz],decls:3,vars:4,consts:[[1,"max-h-0","overflow-hidden","pt-1","pl-4","transition-all","duration-500",3,"ngClass"],[1,"flex","flex-col","border-l","border-dashed","border-gray-200","pl-2","text-night-200","dark:border-night-500"],[4,"ngFor","ngForOf"],[1,"flex","rounded","hover:bg-gray-100","dark:hover:bg-night-600",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["parentMenu",""],["childMenu",""],[3,"submenu"],["routerLinkActive","text-primary-500",1,"inline-block","w-full","px-4","py-2","text-xs","font-semibold",3,"routerLink","routerLinkActiveOptions","click"],[1,"inline-block","w-full","cursor-pointer","px-4","py-2","text-xs","font-semibold"],[1,"flex","items-center","p-1","text-gray-400","transition-all","duration-500","dark:text-night-400",3,"ngClass"],["src","assets/icons/heroicons/solid/chevron-right.svg",3,"svgClass"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0)(1,"ul",1),e.YNc(2,se,8,5,"li",2),e.qZA()()),2&i&&(e.Q6J("ngClass",e.VKq(2,re,s.submenu.expanded)),e.xp6(2),e.Q6J("ngForOf",s.submenu.children))},dependencies:[n,l.mk,l.ax,l.tP,c.Od,c.rH,g._J,g.bk]})}return n})();function ae(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"a",15),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.closeMenu())}),e._uU(2),e.qZA()()}if(2&n){const t=r.item;e.s9C("routerLink",t.route),e.xp6(2),e.hij(" ",t.label," ")}}function le(n,r){if(1&n&&(e.TgZ(0,"div",16)(1,"a",17),e._uU(2),e.qZA()()),2&n){const t=r.item;e.xp6(2),e.hij(" ",t.label," ")}}const ce=(n,r)=>({hidden:n,"rotate-90":r});function ue(n,r){if(1&n&&(e.TgZ(0,"button",18),e._UZ(1,"svg-icon",19),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("ngClass",e.WLB(2,ce,!i.menuService.showSideBar,t.expanded)),e.xp6(1),e.Q6J("svgClass","h-5 w-5")}}const ge=n=>({item:n});function de(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"div",6),e.NdJ("click",function(){const o=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.toggleMenu(o))}),e.TgZ(2,"div",7),e._UZ(3,"svg-icon",8),e.qZA(),e.GkF(4,9),e.YNc(5,ae,3,2,"ng-template",null,10,e.W1O)(7,le,3,1,"ng-template",null,11,e.W1O)(9,ue,2,5,"button",12),e.qZA(),e._UZ(10,"app-navbar-mobile-submenu",13),e.qZA()}if(2&n){const t=r.$implicit,i=e.MAs(6),s=e.MAs(8),o=e.oxw(2);e.xp6(2),e.Q6J("ngClass",t.active&&!o.menuService.showSideBar?"text-primary-500":""),e.xp6(1),e.s9C("src",t.icon),e.Q6J("svgClass","h-5 w-5"),e.xp6(1),e.Q6J("ngTemplateOutlet",t.children?s:i)("ngTemplateOutletContext",e.VKq(7,ge,t)),e.xp6(5),e.Q6J("ngIf",t.children),e.xp6(1),e.Q6J("submenu",t)}}function he(n,r){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"small",3),e._uU(3),e.qZA()(),e.TgZ(4,"ul",4),e.YNc(5,de,11,9,"li",5),e.qZA()()),2&n){const t=r.$implicit;e.xp6(3),e.hij(" ",t.group," "),e.xp6(2),e.Q6J("ngForOf",t.items)}}let me=(()=>{class n{constructor(t){this.menuService=t}toggleMenu(t){this.menuService.toggleMenu(t)}closeMenu(){this.menuService.showMobileMenu=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(v))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-navbar-mobile-menu"]],standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["class","pt-4",4,"ngFor","ngForOf"],[1,"pt-4"],[1,"mx-1","mb-2","flex","items-center","justify-between"],[1,"text-xs","font-semibold","text-gray-400","dark:text-night-200"],[1,"flex","flex-col","space-y-1"],[4,"ngFor","ngForOf"],[1,"group","relative","text-gray-400","dark:text-night-400",3,"click"],[1,"pointer-events-none","absolute","m-2",3,"ngClass"],[3,"src","svgClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["parentMenu",""],["childMenu",""],["class","pointer-events-none absolute top-1 right-0 flex items-center p-1 text-gray-400 transition-all duration-500 dark:text-night-400",3,"ngClass",4,"ngIf"],[3,"submenu"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","text-gray-600","hover:bg-gray-100","dark:text-night-100","dark:hover:bg-night-600",3,"routerLink"],["routerLinkActive","text-primary-500",1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none",3,"click"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","hover:bg-gray-100","dark:hover:bg-night-600"],[1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","text-gray-600","focus:outline-none","dark:text-night-100"],[1,"pointer-events-none","absolute","top-1","right-0","flex","items-center","p-1","text-gray-400","transition-all","duration-500","dark:text-night-400",3,"ngClass"],["src","assets/icons/heroicons/solid/chevron-right.svg",3,"svgClass"]],template:function(i,s){1&i&&e.YNc(0,he,6,2,"div",0),2&i&&e.Q6J("ngForOf",s.menuService.pagesMenu)},dependencies:[l.ax,l.mk,g._J,g.bk,l.tP,c.rH,c.Od,l.O5,oe]})}return n})(),pe=(()=>{class n{constructor(t){this.menuService=t}ngOnInit(){}toggleMobileMenu(){this.menuService.showMobileMenu=!1}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(v))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-navbar-mobile"]],standalone:!0,features:[e.jDz],decls:16,vars:1,consts:[[1,"absolute","inset-x-0","top-0","z-50","origin-top-right","transform","p-2","transition","md:hidden",3,"ngClass"],[1,"divide-y-2","divide-gray-50","rounded-lg","bg-white","shadow-lg","ring-1","ring-black","ring-opacity-5","dark:bg-night-700"],[1,"pt-5","pb-6"],[1,"flex","items-center","justify-between","px-5"],[1,"flex","items-center","justify-start","sm:order-2","md:mr-10","lg:hidden"],[1,"flex","items-center","justify-center","rounded","bg-primary-500","p-2","focus:outline-none","focus:ring-1"],[1,"pl-3","text-sm","font-bold","dark:text-night-50"],[1,"-mr-2"],["type","button",1,"inline-flex","items-center","justify-center","rounded-md","p-2","text-gray-400","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-primary-500","hover:bg-gray-100","hover:text-gray-500","dark:text-night-300","dark:hover:bg-night-600","dark:hover:text-night-200",3,"click"],[1,"sr-only"],["src","assets/icons/heroicons/outline/x.svg"],[1,"scrollbar-thumb-rounded","scrollbar-track-rounded","max-h-[500px]","overflow-y-auto","px-5","scrollbar-thin","scrollbar-track-gray-50","scrollbar-thumb-gray-100","dark:scrollbar-thumb-night-500","dark:scrollbar-track-night-600"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4),e._UZ(6,"a",5),e.TgZ(7,"b",6),e._uU(8," Angular Tailwind "),e.qZA()()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return s.toggleMobileMenu()}),e.TgZ(11,"span",9),e._uU(12,"Close menu"),e.qZA(),e._UZ(13,"svg-icon",10),e.qZA()()(),e.TgZ(14,"div",11),e._UZ(15,"app-navbar-mobile-menu"),e.qZA()()()()),2&i&&e.Q6J("ngClass",s.menuService.showMobileMenu?"pointer-events-auto scale-100 animate-fade-in-up opacity-100 duration-200":"pointer-events-none scale-95 opacity-0 duration-100 ease-out")},dependencies:[l.mk,g._J,g.bk,me]})}return n})();var Z=a(8242);const ve=()=>["/dashboard/setting"],fe=()=>["/auth"];let be=(()=>{class n{constructor(t,i,s,o){this.languageService=t,this.router=i,this.signoutService=s,this.userService=o,this.isMenuOpen=!1,this.currentLanguage="th",this.translations=this.languageService.translations,this.username="",this.fname="",this.lname="",this.userRole=""}toggleLanguage(){this.languageService.toggleLanguage()}ngOnInit(){this.retrieveUserData(),this.languageService.currentLanguage$.subscribe(t=>{this.currentLanguage=t})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen,this.currentLanguage=this.languageService.getCurrentLanguage(),this.retrieveUserData()}logout(){this.signoutService.logout()}retrieveUserData(){this.username=sessionStorage.getItem("username")??"",this.fname=sessionStorage.getItem("fname")??"",this.lname=sessionStorage.getItem("lname")??"";const t=sessionStorage.getItem("role");this.userRole="en"===this.currentLanguage?"1"===t?"Administrator":"User":"1"===t?"\u0e1c\u0e39\u0e49\u0e14\u0e39\u0e41\u0e25\u0e23\u0e30\u0e1a\u0e1a":"\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19"}getUserInfo(t){this.userService.getUserInfo(t).then(i=>{sessionStorage.setItem("userID",i.id),sessionStorage.setItem("uname",t),sessionStorage.setItem("fname",i.first_name),sessionStorage.setItem("lname",i.last_name),sessionStorage.setItem("role",i.role)},i=>{console.error("Error:",i)})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(p.T),e.Y36(c.F0),e.Y36(x.b),e.Y36(Z.K))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile-menu"]],standalone:!0,features:[e._Bn([Z.K]),e.jDz],decls:20,vars:10,consts:[[1,"relative","ml-3"],[1,"flext-row","flex","items-center"],["type","button","aria-expanded","false","aria-haspopup","true",1,"relative","flex","rounded-full","bg-gray-800","text-sm","px-2",3,"click"],[1,"sr-only"],["clickOutside","","src","assets/icons/heroicons/outline/users.svg","alt","",1,"h-9","w-9","rounded-md",3,"clickOutside"],[1,"absolute","right-0","mt-2","w-60","z-50","origin-top-right","transform","rounded-md","bg-white","py-4","transition","dark:bg-night-800",3,"ngClass"],[1,"flext-row","flex","items-center","px-4","pb-4"],[1,"w-10","shrink-0"],["src","assets/icons/heroicons/outline/users.svg",1,"rounded-md"],[1,"overflow-hidden","px-2","text-sm","font-semibold","text-gray-700","dark:text-night-50"],[1,"truncate","text-ellipsis","text-xs","font-semibold","text-gray-400","dark:text-night-300"],[1,"border-b","border-dashed","border-gray-200","dark:border-night-500"],[1,"my-2","mx-4"],[1,"block","cursor-pointer","rounded-md","px-3","py-2","text-sm","font-semibold","text-gray-700","hover:bg-gray-100","hover:text-primary-500","dark:text-night-200","dark:hover:bg-night-900","dark:hover:text-primary-500",3,"routerLink"],[1,"block","cursor-pointer","rounded-md","px-3","py-2","text-sm","font-semibold","text-gray-700","hover:bg-gray-100","hover:text-primary-500","dark:text-night-200","dark:hover:bg-night-900","dark:hover:text-primary-500",3,"routerLink","click"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return s.toggleMenu()}),e.TgZ(3,"span",3),e._uU(4,"Open user menu"),e.qZA(),e.TgZ(5,"img",4),e.NdJ("clickOutside",function(){return s.isMenuOpen=!1}),e.qZA()()(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e._UZ(9,"img",8),e.qZA(),e.TgZ(10,"div",9),e._uU(11),e.TgZ(12,"p",10),e._uU(13),e.qZA()()(),e._UZ(14,"div",11),e.TgZ(15,"ul",12)(16,"li",13),e._uU(17),e.qZA(),e.TgZ(18,"li",14),e.NdJ("click",function(){return s.logout()}),e._uU(19),e.qZA()()()()),2&i&&(e.xp6(6),e.Q6J("ngClass",s.isMenuOpen?"pointer-events-auto scale-100 animate-fade-in-up opacity-100 duration-200":"pointer-events-none scale-95 opacity-0 duration-100 ease-in"),e.xp6(5),e.AsE(" ",s.fname," ",s.lname," "),e.xp6(2),e.Oqu(s.userRole),e.xp6(3),e.Q6J("routerLink",e.DdM(8,ve)),e.xp6(1),e.hij(" ",s.translations[s.currentLanguage].Settings," "),e.xp6(1),e.Q6J("routerLink",e.DdM(9,fe)),e.xp6(1),e.hij(" ",s.translations[s.currentLanguage]["Sign Out"]," "))},dependencies:[S,c.rH,l.ez,l.mk]})}return n})(),_e=(()=>{class n{constructor(t){this.menuService=t}ngOnInit(){}toggleMobileMenu(){this.menuService.showMobileMenu=!0}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(v))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-navbar"]],standalone:!0,features:[e.jDz],decls:15,vars:1,consts:[[1,"relative","bg-white","dark:bg-night-800"],[1,"mx-auto","px-5"],[1,"flex","items-center","justify-between","py-3.5","md:justify-start"],[1,"sm:order-1","md:hidden"],["type","button","aria-expanded","false",1,"inline-flex","items-center","justify-center","rounded-md","bg-white","p-2","text-gray-400","hover:bg-gray-100","hover:text-gray-500","dark:bg-night-900","dark:text-night-200","dark:hover:text-night-400",3,"click"],[1,"sr-only"],["src","\\assets\\icons\\list.svg",3,"svgClass"],[1,"flex","items-center","justify-start","sm:order-2","md:mr-10","lg:hidden"],[1,"flex","items-center","justify-center","rounded","p-2","focus:ring-1"],["src","\\assets\\logo.png","width","25","height","25"],[1,"hidden","space-x-10","sm:order-3","md:flex"],[1,"items-center","justify-end","sm:order-4","md:flex","md:flex-1","lg:w-0"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return s.toggleMobileMenu()}),e.TgZ(5,"span",5),e._uU(6,"Open menu"),e.qZA(),e._UZ(7,"svg-icon",6),e.qZA()(),e.TgZ(8,"div",7)(9,"a",8),e._UZ(10,"img",9),e.qZA()(),e._UZ(11,"div",10),e.TgZ(12,"div",11),e._UZ(13,"app-profile-menu"),e.qZA()()(),e._UZ(14,"app-navbar-mobile"),e.qZA()),2&i&&(e.xp6(7),e.Q6J("svgClass","h-6 w-6"))},dependencies:[g._J,g.bk,be,pe]})}return n})(),xe=(()=>{class n{constructor(){this.year=(new Date).getFullYear()}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-footer"]],standalone:!0,features:[e.jDz],decls:9,vars:1,consts:[[1,"flex","h-4","items-center","bg-white","dark:bg-night-800"],[1,"flex","w-full","items-center","justify-between","px-7","text-[13px]","font-medium"],[1,"text-gray-400","dark:text-night-300"],[1,"mr-2"],[1,"flex","text-gray-500","dark:text-night-300"],[1,"hover:text-night-50","dark:text-white"],["href","https://www.google.com","target","_blank",1,"menu-link","px-2"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4),e.qZA()(),e.TgZ(5,"ul",4)(6,"li",5)(7,"a",6),e._uU(8,"Warun Co. Ltd."),e.qZA()()()()()),2&i&&(e.xp6(4),e.hij("",s.year,"\xa9"))}})}return n})();var w=a(36),C=a(8958),ke=a(6321),ye=a(4825);const Te=n=>({hidden:n});let Se=(()=>{class n{constructor(t,i,s,o,u){this.languageService=t,this.router=i,this.validateService=s,this.authService=o,this.signoutService=u,this.mainContent=null,this.currentLanguage="th",this.translations=this.languageService.translations,this.displayTokenRefreshModal=!1,this.router.events.subscribe(d=>{d instanceof c.m2&&this.mainContent&&(this.mainContent.scrollTop=0)})}ngOnInit(){this.mainContent=document.getElementById("main-content"),this.languageService.currentLanguage$.subscribe(t=>{this.currentLanguage=t}),this.checkToken()}ngOnDestroy(){this.checkTokenSubscription&&this.checkTokenSubscription.unsubscribe()}checkToken(){this.checkTokenSubscription=function Me(n=0,r=ke.z){return n<0&&(n=0),(0,ye.H)(n,n,r)}(1e4).subscribe(()=>{const t=sessionStorage.getItem("accessToken");if(t)return this.validateService.isTokenExpired(t)?(this.signoutService.logout(),void setTimeout(()=>this.router.navigate(["/auth/sign-in"]),100)):void this.validateService.getTimeRemainingBeforeTimeout(t).subscribe(o=>{Math.floor(o/6e4)<=10&&(this.displayTokenRefreshModal=!0)});this.router.navigate(["/auth/sign-in"])})}logout(){this.signoutService.logout(),this.displayTokenRefreshModal=!1}refreshToken(){this.authService.tokenRefresh().subscribe(t=>{sessionStorage.setItem("accessToken",t.msg),window.location.href="http://wrp-smarttraffic.com/dashboard/main"})}closeTokenRefreshModal(){this.displayTokenRefreshModal=!1}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(p.T),e.Y36(c.F0),e.Y36(C.p),e.Y36(w.e),e.Y36(x.b))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-layout"]],standalone:!0,features:[e._Bn([p.T,w.e,x.b,C.p]),e.jDz],decls:24,vars:7,consts:[[1,"flex","h-screen","w-full","overflow-hidden"],[1,"flex","grow","flex-col","content-start","overflow-hidden","bg-gray-100","dark:bg-night-900"],["id","main-content","scrollbar","",1,"scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","-thumb-white","scrollbar-track-gray-100","dark:scrollbar-thumb-night-700","dark:scrollbar-track-night-800"],[1,"fixed","top-0","left-0","w-full","h-full","flex","items-center","justify-center","z-50",3,"ngClass"],[1,"absolute","top-0","left-0","w-full","h-full","bg-gray-900","opacity-50"],[1,"relative","bg-white","rounded-lg","shadow-lg","w-96"],[1,"flex","justify-between","items-center","p-4","bg-gray-800","text-white","rounded-t-lg"],[1,"text-lg","font-semibold"],["type","button",1,"focus:outline-none",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-4"],[1,"text-gray-800"],[1,"flex","justify-end","p-4","bg-gray-100","rounded-b-lg"],["type","button",1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600","focus:outline-none",3,"click"],["type","button",1,"ml-2","px-4","py-2","bg-gray-400","text-white","rounded","hover:bg-gray-500","focus:outline-none",3,"click"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"app-sidebar"),e.TgZ(2,"div",1),e._UZ(3,"app-navbar"),e.TgZ(4,"div",2),e._UZ(5,"router-outlet"),e.qZA(),e._UZ(6,"app-footer"),e.qZA()(),e.TgZ(7,"div",3),e._UZ(8,"div",4),e.TgZ(9,"div",5)(10,"div",6)(11,"h5",7),e._uU(12),e.qZA(),e.TgZ(13,"button",8),e.NdJ("click",function(){return s.closeTokenRefreshModal()}),e.O4$(),e.TgZ(14,"svg",9),e._UZ(15,"path",10),e.qZA()()(),e.kcU(),e.TgZ(16,"div",11)(17,"p",12),e._uU(18),e.qZA()(),e.TgZ(19,"div",13)(20,"button",14),e.NdJ("click",function(){return s.refreshToken()}),e._uU(21),e.qZA(),e.TgZ(22,"button",15),e.NdJ("click",function(){return s.logout()}),e._uU(23),e.qZA()()()()),2&i&&(e.xp6(7),e.Q6J("ngClass",e.VKq(5,Te,!s.displayTokenRefreshModal)),e.xp6(5),e.Oqu(s.translations[s.currentLanguage].Warning),e.xp6(6),e.Oqu(s.translations[s.currentLanguage]["Session Warning"]),e.xp6(3),e.Oqu(s.translations[s.currentLanguage].extend),e.xp6(2),e.Oqu(s.translations[s.currentLanguage]["Sign Out"]))},dependencies:[X,c.lC,_e,xe,l.ez,l.mk]})}return n})();var Ze=a(2699),we=a(9422);const Ce=[{path:"dashboard",component:Se,loadChildren:()=>a.e(157).then(a.bind(a,1157)).then(n=>n.DashboardModule),canActivate:[(()=>{class n{constructor(t){this.router=t}canActivate(t,i){return!!sessionStorage.getItem("accessToken")||(this.router.navigate(["/auth/sign-in"],{queryParams:{returnUrl:i.url}}),!1)}static#e=this.\u0275fac=function(i){return new(i||n)(e.LFG(c.F0))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()]},{path:"auth",component:Ze.T,children:[{path:"",redirectTo:"sign-in",pathMatch:"full"},{path:"sign-in",component:we.F,data:{returnUrl:window.location.pathname}},{path:"**",redirectTo:"sign-in",pathMatch:"full"}]},{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"**",redirectTo:"dashbaord"}];let Ae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(Ce),c.Bz]})}return n})(),Oe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[Ae,_.JF,g._J.forRoot()]})}return n})()}}]);